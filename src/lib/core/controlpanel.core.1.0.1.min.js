!function(){"use strict";function t(t){t.interceptors.push("authInterceptor")}angular.module("controlpanel.core",["angular-jwt"]).config(["$httpProvider",t])}();
!function(){"use strict";angular.module("controlpanel.core").constant("API",{URL:"http://localhost:3131/api"}).constant("LOGIN",{POST_LOGIN:"/admin/auth/"}).constant("USER",{GET_LIST_USER:"/admin/user/filter/{0}",GET_USER:"/admin/user/{0}",POST_USER:"/admin/user/",DELETE_USER:"/admin/user/{0}",PUT_USER:"/admin/user/{0}",CHANGE_PASSWORD:"/admin/user/changePassword",LAST_INSERTS:"/admin/user/",TOT_USERS:"/admin/user/totUsers"}).constant("ITEM",{GET_LIST_ITEM:"/admin/item/filter/{0}",GET_ITEM:"/admin/item/{0}",POST_ITEM:"/admin/item/",DELETE_ITEM:"/admin/item/{0}",PUT_ITEM:"/admin/item/{0}",LAST_INSERTS:"/admin/item/",TOT_ITEMS:"/admin/item/totItems"}).constant("STATUS",{GET_STATUS_SERVER:"/public/status/"})}();
!function(){"use strict";function e(){this.user={}}angular.module("controlpanel.core").service("StorageData",e),e.$inject=[]}();
String.prototype.format=String.prototype.format||function(){"use strict";var t=this.toString();if(arguments.length){var r,e=typeof arguments[0],o="string"===e||"number"===e?Array.prototype.slice.call(arguments):arguments[0];for(r in o)t=t.replace(new RegExp("\\{"+r+"\\}","gi"),o[r])}return t};
!function(){"use strict";function e(e,n){return{request:function(r){return 0===r.url.indexOf(e.URL)&&(r.headers.Accept="application/json",n.isLoggedIn()&&(r.headers.Authorization="Bearer "+n.getToken())),r},response:function(e){const r=e.headers("X-Token");return r&&r!==n.getToken()&&n.setToken(r),e}}}angular.module("controlpanel.core").factory("authInterceptor",["API","CoreAuthService",e])}();
!function(){"use strict";function e(e,n,t,o){function r(e){try{return e&&!t.isTokenExpired(e)}catch(n){return!1}}function i(){return o.sessionStorage.getItem("token")}function u(){return a()?(d=t.decodeToken(i()),d._doc):null}function c(e){return!!r(e)&&void o.sessionStorage.setItem("token",e)}function s(){o.sessionStorage.clear(),e.currentUser=!1}function a(){return r(i())}function f(e){return!!a()&&("string"==typeof e&&(e=[e]),e.indexOf(u().role)>=0)}var l=this;l.isValidToken=r,l.getToken=i,l.getTokenData=u,l.setToken=c,l.removeToken=s,l.isLoggedIn=a,l.hasRole=f;var d}angular.module("controlpanel.core").service("CoreAuthService",["$rootScope","$timeout","jwtHelper","$window",e])}();
!function(){"use strict";function t(t){function n(n,e){return t.get(n,{params:e}).then(u)["catch"](a)}function e(n,e){return t.post(n,e).then(u)["catch"](a)}function r(n,e){return t["delete"](n,{params:e}).then(u)["catch"](a)}function c(n,e){return t.put(n,e).then(u)["catch"](a)}function u(t,n,e,r){return t.data}function a(t){return t.status===-1?"server undefined":t.data}var i=this;i.get=n,i.post=e,i["delete"]=r,i.put=c}angular.module("controlpanel.core").service("HTTPService",t),t.$inject=["$http"]}();
!function(){"use strict";function t(t,e,r,n){function u(n){var u=(e.URL+r.GET_ITEM).format(n);return t.get(u)}function o(n){var u=e.URL+r.POST_ITEM;return t.post(u,n)}function i(n){var u=(e.URL+r.PUT_ITEM).format(n._id);return t.put(u,n)}function T(n){var u=(e.URL+r.DELETE_ITEM).format(n);return t["delete"](u)}function a(n){var u=(e.URL+r.GET_LIST_ITEM).format(JSON.stringify(n));return t.get(u)}function I(){var n=e.URL+r.LAST_INSERTS;return t.get(n)}function c(){var n=e.URL+r.TOT_ITEMS;return t.get(n)}var f=this;f.getItem=u,f.saveItem=o,f.updateItem=i,f.deleteItem=T,f.getListItem=a,f.lastInserts=I,f.totItems=c}angular.module("controlpanel.core").service("CoreItemService",t),t.$inject=["HTTPService","API","ITEM","$q"]}();
!function(){"use strict";function e(e,n,r,o,t){function i(o){var t=n.URL+r.POST_LOGIN;return e.post(t,o)}var c=this;c.login=i}angular.module("controlpanel.core").service("CoreLoginService",e),e.$inject=["HTTPService","API","LOGIN","StorageData","$q"]}();
!function(){"use strict";function e(e,r,t){function n(){var n=r.URL+t.GET_STATUS_SERVER;return e.get(n)}var c=this;c.statusServer=n}angular.module("controlpanel.core").service("CoreStatusService",e),e.$inject=["HTTPService","API","STATUS"]}();
!function(){"use strict";function r(r,t,e,n,a){function o(n){var a=(t.URL+e.GET_USER).format(n);return r.get(a)}function u(n){var a=t.URL+e.POST_USER;return r.post(a,n)}function U(n){var a=(t.URL+e.PUT_USER).format(n._id);return r.put(a,n)}function s(n){var a=(t.URL+e.DELETE_USER).format(n);return r["delete"](a)}function i(n){var a=(t.URL+e.GET_LIST_USER).format(JSON.stringify(n));return r.get(a)}function S(n){var a=t.URL+e.CHANGE_PASSWORD;return r.post(a,n)}function c(){var n=t.URL+e.LAST_INSERTS;return r.get(n)}function R(){var n=t.URL+e.TOT_USERS;return r.get(n)}var f=this;f.getUser=o,f.saveUser=u,f.updateUser=U,f.deleteUser=s,f.getListUser=i,f.changePassword=S,f.lastInserts=c,f.totUsers=R}angular.module("controlpanel.core").service("CoreUserService",r),r.$inject=["HTTPService","API","USER","StorageData","$q"]}();