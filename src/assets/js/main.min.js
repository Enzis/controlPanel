'use strict';

(function () {

    'use strict';

    angular.module('controlpanel', ['controlpanel.core', 'ngRoute', 'ui.router', 'ngDialog', 'LocalStorageModule']);
})();
'use strict';

(function () {

    'use strict';

    angular.module('controlpanel').controller('controlpanelController', marketController);

    marketController.$inject = ['DataFactory'];

    function marketController(DataFactory) {
        var vm = this;
        vm.data = DataFactory;
        vm.data.carrinho = [];
        vm.data.livros = [];
    }
})();
'use strict';

(function () {

    'use strict';

    angular.module('controlpanel').config(ConfigProvider).config(ConfigLocalStorage).run(function () {});

    ConfigProvider.$inject = ['$urlRouterProvider', '$stateProvider'];

    function ConfigProvider($urlRouterProvider, $stateProvider) {
        $urlRouterProvider.otherwise('/');

        $stateProvider.state('/login', {
            url: '/login',
            template: '<login></login>'
        });
    }

    ConfigLocalStorage.$inject = ['localStorageServiceProvider'];

    function ConfigLocalStorage(localStorageServiceProvider) {
        localStorageServiceProvider.setPrefix('controlpanel');
    }
})();
'use strict';

(function () {

    'use strict';

    angular.module('controlpanel').controller('loginController', loginController).component('login', {
        templateUrl: '../components/login/login.html',
        controller: 'loginController',
        controllerAs: 'vm'
    });

    loginController.$inject = ['$http', 'CoreLoginService', 'CoreAuthService', 'CoreUserService'];

    function loginController($http, CoreLoginService, CoreAuthService, CoreUserService) {
        //vars
        var vm = this;
        var test = CoreAuthService.getTokenData();
        vm.login = { email: '', password: '' };

        //functions to view
        vm.entrar = function () {
            CoreLoginService.login(vm.login).then(function (data) {
                console.log(data);
            }, function (err) {
                console.log(err);
            });
        };
    }
})();
'use strict';

(function () {

    'use strict';

    angular.module('controlpanel').service('loginService', loginService);

    loginService.$inject = [];

    function loginService() {}
})();
'use strict';

(function () {

    'use strict';

    var staticRoot = 'http://127.0.0.1:3131/api/';
    angular.module('controlpanel').constant('CONST', {

        getLivros: staticRoot,
        getCupom: staticRoot.concat('getCupom')

    });
})();
'use strict';

(function () {

    'use strict';

    angular.module('controlpanel').factory('DataFactory', DataFactory);

    DataFactory.$inject = [];

    function DataFactory() {

        var data = {};

        return data;
    }
})();
'use strict';

(function () {

    'use strict';

    angular.module('controlpanel').service('HTTPSERVICE', HTTPSERVICE);

    HTTPSERVICE.$inject = ['$http', '$q'];

    function HTTPSERVICE($http, $q) {
        var vm = this;

        vm.get = function (url) {
            return $http.get(url).then(function (data) {
                return data.data;
            }, function (err) {
                return err;
            });
        };

        vm.post = function (url, params) {
            return $http.post(url, params).then(function (data) {
                return data.data;
            }, function (err) {
                return err;
            });
        };

        vm.delete = function (url) {
            return $http.delete(url).then(function (data) {
                return data.data;
            }, function (err) {
                return err;
            });
        };

        vm.put = function (url) {
            return $http.delete(url).then(function (data) {
                return data.data;
            }, function (err) {
                return err;
            });
        };
    }
})();
'use strict';

(function () {

    'use strict';

    angular.module('controlpanel').directive('ngEnter', function () {
        return function (scope, element, attrs) {
            element.bind("keydown keypress", function (event) {
                if (event.which === 13) {
                    scope.$apply(function () {
                        scope.$eval(attrs.ngEnter, { 'event': event });
                    });
                    event.preventDefault();
                }
            });
        };
    });
})();